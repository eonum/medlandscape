{"ast":null,"code":"import _classCallCheck from \"/Users/moriarty/Documents/UniBe/PSE/medlandscape/medlandscape-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/moriarty/Documents/UniBe/PSE/medlandscape/medlandscape-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/moriarty/Documents/UniBe/PSE/medlandscape/medlandscape-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/moriarty/Documents/UniBe/PSE/medlandscape/medlandscape-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/moriarty/Documents/UniBe/PSE/medlandscape/medlandscape-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/moriarty/Documents/UniBe/PSE/medlandscape/medlandscape-app/src/components/DropdownMenu/DropdownMenu.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './DropdownMenu.css';\nimport { withTranslation } from \"react-i18next\";\n/**\n* DropdownMenu-Component that contains a search bar to filter the displayed\n*  list items.\n*\n* Required properties: see PropTypes section below\n*/\n\nvar DropdownMenu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DropdownMenu, _Component);\n\n  function DropdownMenu() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DropdownMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DropdownMenu)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.selectItem = function (item) {\n      _this.props.selectItem(item, _this.props.id);\n    };\n\n    _this.searchFunction = function () {\n      var input, filter, a, i, div, txtValue;\n      input = document.getElementById(_this.props.id).querySelector('.searchbar');\n      filter = input.value.toUpperCase();\n      div = document.getElementById(_this.props.id);\n      a = div.getElementsByClassName('dropdownElem');\n\n      for (i = 0; i < a.length; i++) {\n        txtValue = a[i].textContent || a[i].innerText;\n\n        if (txtValue.toUpperCase().indexOf(filter) > -1) {\n          a[i].style.display = \"\";\n        } else {\n          a[i].style.display = \"none\";\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(DropdownMenu, [{\n    key: \"toggleDropdown\",\n\n    /**\n    * toggleDropdown - toggles whether the DropdownMenu is opened or closed\n    */\n    value: function toggleDropdown(e) {\n      var thisDropDown = document.getElementById(this.props.id);\n      thisDropDown.classList.toggle('show');\n\n      if (thisDropDown.classList.contains('show')) {\n        if (thisDropDown.classList.contains('show')) {\n          thisDropDown.firstChild.focus();\n        }\n\n        var addListener = function addListener() {\n          thisDropDown.classList.remove('show');\n          document.removeEventListener(\"click\", addListener);\n        };\n\n        e.stopPropagation();\n        document.addEventListener(\"click\", addListener);\n      }\n    }\n    /**\n    * selectItem - informs this.props.selectItem about the item that has been\n    * selected from the list. Also closes the menu.\n    *\n    * @param  {Object} item the list item that was selected\n    */\n\n  }, {\n    key: \"render\",\n\n    /**\n    * render - renders the component: A button to open and close the menu, a\n    * div that contains an input-textfield (for filtering) and every list item\n    * from the prop \"listItems\".\n    *\n    * @return {JSX}  JSX-Code of components\n    */\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          t = _this$props.t,\n          selectedItem = _this$props.selectedItem,\n          defaultText = _this$props.defaultText;\n      var varText = defaultText ? defaultText : t('dropDowns.fallback'); // if someone could check for undefined here pls thanks\n\n      if (!!selectedItem) {\n        if (!!selectedItem.text) {\n          varText = selectedItem.text;\n        } else if (!!selectedItem.name) {\n          // if contains cantons / variables\n          varText = selectedItem.name;\n        }\n      }\n\n      if (varText.length > 25) {\n        varText = varText.substring(0, 25) + \"...\";\n      }\n\n      return React.createElement(\"div\", {\n        className: \"dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.toggleDropdown.bind(this),\n        className: \"dropbtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, varText, \" \\u25BC\"), React.createElement(\"div\", {\n        id: this.props.id,\n        className: \"dropdown-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: t('dropDowns.search'),\n        className: \"searchbar\",\n        onKeyUp: this.searchFunction.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"dropdown-options\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.props.listItems.map(function (item) {\n        return React.createElement(\"div\", {\n          className: \"dropdownElem\",\n          key: _this2.props.listItems.indexOf(item),\n          onClick: _this2.selectItem.bind(_this2, item),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, item.text ? item.text : item.name);\n      }))));\n    }\n  }]);\n\n  return DropdownMenu;\n}(Component);\n/**\n* PropTypes\n*\n* id: used as a CSS id to know which dropdown should be opened or closed\n*   and as well for finding out which called the selectItem method (see blow)\n*   Should be unique.\n* listItems: an array containing all list items of the menu\n* selectItem: a function that will be called to inform the parent of the item\n*  that was selected\n* selectedItem: an object that represents the selected item\n* defaultText: text to be shown when no item was selected.\n*/\n\n\nDropdownMenu.propTypes = {\n  listItems: PropTypes.array.isRequired,\n  selectItem: PropTypes.func.isRequired,\n  selectedItem: PropTypes.object,\n  defaultText: PropTypes.string,\n  id: PropTypes.string.isRequired\n};\nvar LocalizedDropdownMenu = withTranslation()(DropdownMenu);\nexport default LocalizedDropdownMenu;","map":{"version":3,"sources":["/Users/moriarty/Documents/UniBe/PSE/medlandscape/medlandscape-app/src/components/DropdownMenu/DropdownMenu.js"],"names":["React","Component","PropTypes","withTranslation","DropdownMenu","selectItem","item","props","id","searchFunction","input","filter","a","i","div","txtValue","document","getElementById","querySelector","value","toUpperCase","getElementsByClassName","length","textContent","innerText","indexOf","style","display","e","thisDropDown","classList","toggle","contains","firstChild","focus","addListener","remove","removeEventListener","stopPropagation","addEventListener","t","selectedItem","defaultText","varText","text","name","substring","toggleDropdown","bind","listItems","map","propTypes","array","isRequired","func","object","string","LocalizedDropdownMenu"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './DropdownMenu.css';\nimport { withTranslation } from \"react-i18next\";\n\n/**\n* DropdownMenu-Component that contains a search bar to filter the displayed\n*  list items.\n*\n* Required properties: see PropTypes section below\n*/\nclass DropdownMenu extends Component {\n\n    /**\n    * toggleDropdown - toggles whether the DropdownMenu is opened or closed\n    */\n    toggleDropdown(e) {\n        let thisDropDown = document.getElementById(this.props.id);\n\n        thisDropDown.classList.toggle('show');\n        if (thisDropDown.classList.contains('show')) {\n            if (thisDropDown.classList.contains('show')) {\n                thisDropDown.firstChild.focus();\n            }\n            let addListener = function () {\n                thisDropDown.classList.remove('show');\n                document.removeEventListener(\"click\", addListener);\n            }\n            e.stopPropagation();\n\n            document.addEventListener(\"click\", addListener);\n        }\n    }\n\n\n\n    /**\n    * selectItem - informs this.props.selectItem about the item that has been\n    * selected from the list. Also closes the menu.\n    *\n    * @param  {Object} item the list item that was selected\n    */\n    selectItem = (item) => {\n        this.props.selectItem(item, this.props.id);\n    }\n\n    /**\n    * searchFunction - filters the displayed listitems using input from the\n    * textfield\n    */\n    searchFunction = () => {\n        let input, filter, a, i, div, txtValue;\n        input = document.getElementById(this.props.id).querySelector('.searchbar');\n        filter = input.value.toUpperCase();\n        div = document.getElementById(this.props.id);\n        a = div.getElementsByClassName('dropdownElem');\n\n        for (i = 0; i < a.length; i++) {\n            txtValue = a[i].textContent || a[i].innerText;\n            if (txtValue.toUpperCase().indexOf(filter) > -1) {\n                a[i].style.display = \"\";\n            } else {\n                a[i].style.display = \"none\";\n            }\n        }\n    }\n\n    /**\n    * render - renders the component: A button to open and close the menu, a\n    * div that contains an input-textfield (for filtering) and every list item\n    * from the prop \"listItems\".\n    *\n    * @return {JSX}  JSX-Code of components\n    */\n    render() {\n        const {t, selectedItem, defaultText} = this.props;\n        let varText = (defaultText) ? defaultText : t('dropDowns.fallback');\n\n        // if someone could check for undefined here pls thanks\n        if (!!selectedItem) {\n            if (!!selectedItem.text) {\n                varText = selectedItem.text;\n            } else if (!!selectedItem.name){ // if contains cantons / variables\n                varText = selectedItem.name;\n            }\n        }\n\n        if (varText.length > 25) {\n            varText = varText.substring(0, 25) + \"...\";\n        }\n\n        return (\n            <div className=\"dropdown\">\n                <button onClick={this.toggleDropdown.bind(this)} className=\"dropbtn\">{varText} ▼</button>\n                <div id={this.props.id} className=\"dropdown-content\">\n                    <input type=\"text\" placeholder={t('dropDowns.search')} className=\"searchbar\" onKeyUp={this.searchFunction.bind(this)} />\n                    <div className=\"dropdown-options\">\n                    {\n                        this.props.listItems.map((item) => (\n                            <div className=\"dropdownElem\" key={this.props.listItems.indexOf(item)} onClick={this.selectItem.bind(this, item)}>{item.text ? item.text : item.name}</div>\n                        ))\n                    }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n/**\n* PropTypes\n*\n* id: used as a CSS id to know which dropdown should be opened or closed\n*   and as well for finding out which called the selectItem method (see blow)\n*   Should be unique.\n* listItems: an array containing all list items of the menu\n* selectItem: a function that will be called to inform the parent of the item\n*  that was selected\n* selectedItem: an object that represents the selected item\n* defaultText: text to be shown when no item was selected.\n*/\nDropdownMenu.propTypes = {\n    listItems: PropTypes.array.isRequired,\n    selectItem: PropTypes.func.isRequired,\n    selectedItem: PropTypes.object,\n    defaultText: PropTypes.string,\n    id: PropTypes.string.isRequired\n}\n\nconst LocalizedDropdownMenu = withTranslation()(DropdownMenu);\nexport default LocalizedDropdownMenu;\n"]},"metadata":{},"sourceType":"module"}